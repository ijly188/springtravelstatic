<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- custom -->
    <link rel="stylesheet" href="./css/app.css">
    <link rel="stylesheet" href="./css/lottery.css">
    <title>台北春遊</title>
</head>

<body>
    <div id="app">
        <header class="navbar navbar-expand-lg navbar-light bg-transparent">
            <div class="container">
                <a href="./index.html" class="navbar-brand router-link-exact-active router-link-active">
                    <img src="./image/logo.svg" alt="台北小春">
                </a>
                <button type="button" data-toggle="collapse" data-target="#navbarsExample07" aria-controls="navbarsExample07" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button>
                <div id="navbarsExample07" class="collapse navbar-collapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item"><a href="./springtravel_info.html" class="nav-link">春遊介紹</a></li>
                        <li class="nav-item active"><a href="./springtravel_lottery.html" class="nav-link">抽獎說明</a></li>
                        <li class="nav-item"><a href="./springtravel_activity.html" class="nav-link">春季活動資訊</a></li>
                        <li class="nav-item"><a href="./springtravel_tour.html" class="nav-link">台北必遊</a></li>
                        <li class="nav-item"><a href="./springtravel_film.html" class="nav-link">網紅推薦</a></li>
                    </ul>
                </div>
            </div>
        </header>
        <div class="container">
            <div class="content_wrap">
                <div class="titlewrap">
                    <h2 class="col-12 main-directory">
                     抽獎說明
                  </h2>
                    <h4 class="col-12 secondary-directory">
                     台北春遊攻略大公開 讓你好康拿不完！
                  </h4>
                </div>
                <svg version="1.1" class="grass" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1200 274" xml:space="preserve">
                    <path class="grass_inner" d="M1181.7,185.3c-16.8-43.5-59.8-80.7-107.1-86.1c-27.7-3.2-56.2,3.9-83.2-5c-5.3-1.7-10.1-4-14.7-6.5 c-12.6-6.9-23.1-16.1-35.1-23.6c-29.1-18.3-68.1-27.6-105.7-29.8c-26.7-1.5-52.2,1.2-77.1,5.5c-23.9,4.1-48.5-1-68.3-15 C668.4,9.1,641.4,0,612.3,0c-24.5,0-47.5,6.5-67.4,17.9c-20.7,11.9-45.2,15-68.5,9.3l-0.4-0.1c-34.7-8.4-71-12.4-106.7-9.4 c-37.5,3.1-61.8,22.8-95.6,36.9c-42.9,17.9-92.2,15.2-137.4,23C50.7,92.4,0,190.9,0,274.1h1200 C1200,242.7,1189.2,204.6,1181.7,185.3" />
                </svg>
                <div class="inner_wrap springtravel_info_wrap">
                    <div class="row">
                        <p class="col-12 lottery_introinfo">
                            春天來了！在這春暖花開之際，臺北市的一切隨著春天甦醒。讓我們邀請大家，一起發掘隱藏在臺北各區的春景，一起來尋找臺北小春。凡於指定期間內完成春遊補助者，就有機會把好禮帶回家，最大獎為臺北東京雙人來回機票，還有特別獎等浪漫大獎，快把握機會來台北走走！
                        </p>
                    </div>
                    <div class="row twocolwrap">
                        <div class="col-12 col-lg-6 col-xl-6 leftpart">
                            <div class="leftpartcontent">
                                <div class="title">
                                    - 自由行旅客 -
                                </div>
                                <div class="content">
                                    <ul class="circlelist">
                                        <li class="circle">郵輪下午茶</li>
                                        <li class="circle">郵輪下午茶</li>
                                        <li class="circle">郵輪下午茶</li>
                                        <li class="circle">郵輪下午茶</li>
                                        <li class="circle">郵輪下午茶</li>
                                        <li class="circle">郵輪下午茶</li>
                                        <li class="circle">郵輪下午茶</li>
                                        <li class="circle">郵輪下午茶</li>
                                    </ul>
                                </div>
                                <div class="bottombtn" data-toggle="modal" data-target="#exampleModal">ＧＯ！自由行旅客</div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-xl-6 rightpart">
                            <div class="rightpartcontent">
                                <div class="title">
                                    - 團體旅遊 -
                                </div>
                                <div class="content">
                                    <ul class="circlelist">
                                        <li class="circle">老爺酒店集</li>
                                        <li class="circle">老爺酒店集</li>
                                        <li class="circle">老爺酒店集</li>
                                        <li class="circle">老爺酒店集</li>
                                        <li class="circle">老爺酒店集</li>
                                        <li class="circle">老爺酒店集</li>
                                        <li class="circle">老爺酒店集</li>
                                    </ul>
                                </div>
                                <div class="bottombtn">ＧＯ！團體旅客</div>
                            </div>
                        </div>
                    </div>
                    <div class="row noticearea">
                        <div class="noticetitle">
                            注意事項：
                        </div>
                        <ol class="noticewrap">
                            <li class="notice">抽獎活動僅提供申請台北市春遊補助者。</li>
                            <li class="notice">票券使用規範請依照票券上之規定</li>
                            <li class="notice">參加者參加本活動時即同意台北市觀傳局得依下列告知事項內容搜集處理及利用參加者之個人資料：</li>
                            <li class="notice">本活動台北市觀傳局將依照中華民國所得稅法及各類所得扣繳率標準辦理所得稅扣繳及稅務申報。</li>
                            <li class="notice">所有得獎者之領獎資格（例如：基本資料）需經台北市觀傳局查驗審核。得獎者之身份如填寫資料不符時，基本資料得要求得獎者提出相關證明文件，經台北市觀傳局驗證只要其中任何一項條件不符合，則喪失領獎資格，台北市觀傳局亦不再通知。</li>
                            <li class="notice">獎項詳細內容以實物為準，獎項均不得轉換、轉讓或折換現金、台北市觀傳局保留更換等值獎項之一切權利。</li>
                            <li class="notice">每人僅能領取一次獎項，若發現重複得獎（如首獎或貳獎、參獎得獎者），台北是關船局得取消獎項價值較低之獎項，如價值相同變擇一取消。</li>
                            <li class="notice">領取獎項後請自負保管責任，若有損毀、遺失或被竊，台北市觀傳局入不發給任何證明或補償。</li>
                            <li class="notice">台北市觀傳局保留隨時修正、暫停、取消或終止本活動之一切權力，如有變動應依台北市觀傳局活動公告為準。</li>
                        </ol>
                    </div>
                </div>
                <svg version="1.1" class="grass_footer" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1200 314" xml:space="preserve">
                    <path class="grass_inner" d="M18.4,145.2c16.5,43.7,59.9,80.8,107.1,86.2c27.7,3.2,56.2-3.9,83.2,5c5.3,1.7,10.1,4,14.7,6.5 c12.6,6.9,23.1,16.1,35.2,23.6c29.1,18.3,68.1,27.6,105.8,29.8c86,4.9,158.9-34.3,243-26.2c40.2,3.9,78.4,23.9,117.1,33.4 c34.7,8.4,71.1,12.4,106.7,9.4c37.5-3.1,61.8-22.8,95.6-36.9c43-17.9,92.2-15.2,137.4-23C1150,238.2,1200,182.6,1200,0.1H0.1 C0.1,57.8-2.4,90.3,18.4,145.2" />
                </svg>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">抽獎活動</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                     <div class="form-group">
                           <label for="yourname">姓名</label>
                           <input type="text" class="form-control" id="yourname" aria-describedby="emailHelp" placeholder="你的名字">
                           <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                     </div>
                     <div class="form-group">
                           <label for="idcode">身分證字號</label>
                           <input type="text" class="form-control" id="idcode" aria-describedby="emailHelp" placeholder="身分證字號">
                           <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                     </div>
                     <div class="form-group">
                           <label for="birthday">出生年月日</label>
                           <input type="date" class="form-control" id="birthday" aria-describedby="emailHelp" placeholder="出生年月日">
                           <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                     </div>
                     <div class="form-group">
                           <label for="phone">聯絡電話/手機</label>
                           <input type="number" class="form-control" id="phone" aria-describedby="emailHelp" placeholder="聯絡電話/手機">
                           <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                     </div>
                     <div class="form-group">
                           <label for="email">電子信箱</label>
                           <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="電子信箱">
                           <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                     </div>
                     <input type="checkbox">我已詳閱注意事項
                     <button class="btn btn-primary text-primary bg-white border-0" id="sendOrder">送出</button>
                </div>
                <!-- <div class="modal-footer">
               <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
               <button type="button" class="btn btn-primary">Save changes</button>
            </div> -->
            </div>
        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <script>
        $(function() {
            // 監聽 送出訂單 按鈕點擊
            // 下面這段主要在組合資料，還有擋使用者不填資料不能送出
            $('#sendOrder').click(function(e) {
                var status = true;
                // 姓名
                var name = $('#yourname').val();
                // 身分證字號
                var idcode = $('#idcode').val();
                // 出生年月日
                var birthday = $('#birthday').val();
                // 聯絡手機
                var phone = $('#phone').val();
                // 電子信箱
                var email = $('#email').val();


                // 擋住不填資料邏輯
                if (name == '') {
                    $('#name').css('border', '1px solid #ff0000');
                    status = false;
                }
                if (idcode == '') {
                    $('#idcode').css('border', '1px solid #ff0000');
                    status = false;
                }
                if (birthday == '') {
                    $('#birthday').css('border', '1px solid #ff0000');
                    status = false;
                }
                if (phone == '') {
                    $('#phone').css('border', '1px solid #ff0000');
                    status = false;
                }
                if (email == '') {
                    $('#email').css('border', '1px solid #ff0000');
                    status = false;
                }
                // 如果 �必填欄位都過了 才會到這邊
                if (status) {
                    // 增加日期資料
                    var currentdate = new Date();
                    var filltime = currentdate.getFullYear() + "/" + (currentdate.getMonth() + 1) + "/" + currentdate.getDate() + "  " + currentdate.getHours() + ":" + currentdate.getMinutes() + ":" + currentdate.getSeconds();
                    // 打包 要的資料
                    var data = {
                        'birthday': birthday,
                        'email': email,
                        'idcode': idcode,
                        'name': name,
                        'phone': phone,
                        'time': filltime,
                     }
                     // 呼叫 send ajax function
                     console.log(data);
                    send(data);
                }
            });
        });

        function send(data) {
            $.ajax({
                // 這邊用get type
                type: "get",
                // api url - google appscript 產出的 url
                url: "https://script.google.com/macros/s/AKfycbypw0X2i49CxTEvB5K0-33pXsKcwqGCQL7eE1lkp7BnqetPZMs/exec",
                // 剛剛整理好的資料帶入
                data: data,
                // 資料格式是JSON
                dataType: "JSON",
                // 成功送出 會回頭觸發下面這塊感謝
                success: function(response) {
                    console.log(response);
                }
            });
        }
    </script>
</body>

</html>
